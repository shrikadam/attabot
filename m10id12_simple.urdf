<?xml version="1.0"?>

<robot name="m10id12_simple">

  <!-- ______________________________Links______________________________ -->
  <!-- World -->
  <link name="world_link">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
    </visual>
  </link>

  <!-- Base -->
  <link name="base_link">
    <visual>
      <origin xyz="0 0 0.1" rpy="0 0 0" />
      <geometry>
        <box size="0.25 0.25 0.2" />
      </geometry>
      <material name="grey">
        <color rgba="0.3 0.3 0.3 1" />
      </material>
    </visual>
  </link>

  <!-- Torso -->
  <link name="torso_link">
    <visual>
      <origin xyz="0 0 0.125" rpy="0 0 0" />
      <geometry>
        <box size="0.1 0.1 0.25" />
      </geometry>
      <material name="blue">
        <color rgba="0 0 1 1" />
      </material>
    </visual>
  </link>

  <!-- Upper Arm -->
  <link name="upper_arm_link">
    <visual>
      <origin xyz="0 0 0.32" rpy="0 0 0" />
      <geometry>
        <box size="0.1 0.1 0.64" />
      </geometry>
      <material name="green">
        <color rgba="0 1 0 1" />
      </material>
    </visual>
  </link>

  <!-- Empty -->
  <link name="elbow_link">
    <visual>
      <origin xyz="0 0 0.1" rpy="0 0 0" />
      <geometry>
        <box size="0.1 0.1 0.2" />
      </geometry>
      <material name="orange">
        <color rgba="1 0.65 0 1" />
      </material>
    </visual>
  </link>

  <!-- Forearm -->
  <link name="forearm_link">
    <visual>
      <origin xyz="0 0 0.21" rpy="0 0 0" />
      <geometry>
        <box size="0.1 0.1 0.42" />
      </geometry>
      <material name="red">
        <color rgba="1 0 0 1" />
      </material>
    </visual>
  </link>

  <!-- EE -->
  <link name="flange_link">
    <visual>
      <origin xyz="0 0 0.0375" rpy="0 0 0" />
      <geometry>
        <box size="0.1 0.1 0.075" />
      </geometry>
      <material name="yellow">
        <color rgba="1 1 0 1" />
      </material>
    </visual>
  </link>

  <!-- Flange -->
  <link name="ee_link">
    <visual>
      <origin xyz="0 0 0" />
      <geometry>
        <box size="0.05 0.05 0.05" rpy="0 0 0" />
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1" />
      </material>
    </visual>
  </link>

  <!-- Camera link -->
  <link name="camera_link">
    <visual>
      <geometry>
        <cylinder length="0.05" radius="0.02" />
      </geometry>
      <material name="white">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
  </link>

  <link name="camera_optical_link" />

  <!-- ______________________________Joints______________________________ -->
  <!-- Joint 0 -->
  <joint name="j0_base_joint" type="fixed">
    <parent link="world_link" />
    <child link="base_link" />
    <origin xyz="0 0 0" rpy="0 0 0" />
  </joint>

  <!-- Joint 1 -->
  <joint name="j1_waist_joint" type="revolute">
    <parent link="base_link" />
    <child link="torso_link" />
    <limit effort="30.0" lower="-3.1415926535" upper="3.1415926535" velocity="5.0" />
    <origin xyz="0 0 0.2" rpy="0 0 0" />
    <axis xyz="0 0 1" />
  </joint>

  <!-- Joint 2 -->
  <joint name="j2_shoulder_joint" type="revolute">
    <parent link="torso_link" />
    <child link="upper_arm_link" />
    <limit effort="30.0" lower="-1.57079632679" upper="1.57079632679" velocity="5.0" />
    <origin xyz="0 0 0.25" rpy="0 0 0" />
    <axis xyz="0 1 0" />
  </joint>

  <!-- Joint 3 -->
  <joint name="j3_elbow_joint" type="revolute">
    <parent link="upper_arm_link" />
    <child link="elbow_link" />
    <limit effort="30.0" lower="-1.57079632679" upper="3.1415926535" velocity="5.0" />
    <origin xyz="0 0 0.64" rpy="0 0.785 0" />
    <axis xyz="0 1 0" />
  </joint>

  <!-- Joint 4 -->
  <joint name="j4_wrist_roll_joint" type="revolute">
    <parent link="elbow_link" />
    <child link="forearm_link" />
    <limit effort="30.0" lower="-3.1415926535" upper="3.1415926535" velocity="5.0" />
    <origin xyz="0 0 0.2" rpy="0 0.785 0" />
    <axis xyz="0 0 1" />
  </joint>

  <!-- Joint 5 -->
  <joint name="j5_wrist_pitch_joint" type="revolute">
    <parent link="forearm_link" />
    <child link="flange_link" />
    <limit effort="30.0" lower="-1.57079632679" upper="1.57079632679" velocity="5.0" />
    <origin xyz="0 0 0.42" rpy="0 0 0" />
    <axis xyz="0 1 0" />
  </joint>

  <!-- Joint 6 -->
  <joint name="j6_tool_roll_joint" type="revolute">
    <parent link="flange_link" />
    <child link="ee_link" />
    <limit effort="30.0" lower="-3.1415926535" upper="3.1415926535" velocity="5.0" />
    <origin xyz="0 0 0.075" rpy="0 0 0" />
    <axis xyz="0 0 1" />
  </joint>

  <!-- Camera joint -->
  <joint name="camera_joint" type="fixed">
    <parent link="ee_link" />
    <child link="camera_link" />
    <origin xyz="-0.1 0 0.05" rpy="0 0 0" />
  </joint>

  <!-- Camera Optical joint (convert from ROS Camera Coords to Optical Camera Coords) -->
  <joint name="camera_optical_joint" type="fixed">
    <parent link="camera_link" />
    <child link="camera_optical_link" />
    <origin xyz="0 0 0" rpy="-1.57 0 -1.57" />
  </joint>

  <!-- ______________________________Camera______________________________ -->
  <gazebo reference="camera_link">
    <material>Gazebo/White</material>
    <sensor name="camera" type="camera">
      <pose> 0 0 0 0 0 0 </pose>
      <visualize>true</visualize>
      <update_rate>30</update_rate>
      <camera>
        <horizontal_fov>1.57</horizontal_fov>
        <image>
          <format>R8G8B8</format>
          <width>1920</width>
          <height>1080</height>
        </image>
      </camera>
      <plugin name="camera_controller" filename="libgz_ros_camera.so">
        <frame_name>camera_optical_link</frame_name>
      </plugin>
    </sensor>
  </gazebo>

</robot>